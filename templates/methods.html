<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Coffee Ratings</title>
    <link rel="icon" type="image/x-icon" href="../static/assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link
        href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="../static/css/styles.css" rel="stylesheet" />
</head>

<body>
    <header>
        <h1 class="site-heading text-center text-faded d-none d-lg-block">
            <span class="site-heading-upper text-primary mb-3">A Machine Learning Approach To</span>
            <span class="site-heading-lower">Coffee Ratings</span>
        </h1>
    </header>
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-dark py-lg-4" id="mainNav">
        <div class="container">
            <a class="navbar-brand text-uppercase fw-bold d-lg-none" href="index.html">Start Bootstrap</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="/">Home</a></li>
                    <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="/about">About Coffee</a></li>
                    <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="/data">Data</a></li>
                    <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="/methods">Methods</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <section class="page-section">
        <div class="container">
            <div class="product-item">
                <div class="product-item-title d-flex">
                    <div class="bg-faded p-5 d-flex ms-auto rounded">
                        <h2 class="section-heading mb-0">
                            <span class="section-heading-upper">Random Forest</span>
                            <span class="section-heading-lower">Regressor</span>
                        </h2>
                    </div>
                </div>
                <div id="doughnut-chart">
                    <script src="../static/js/feat_doughnut.js"></script>
                </div>
                <div class="product-item-title d-flex">
                    <div class="bg-faded p-5 rounded">
                        <p class="mb-0">The first part of our analysis focuses on <strong>regression</strong>. To start,
                            we used the RandomForest Regressor function from the sklearn package in Python to discover
                            which features were most important when determining <strong>Cupper Points</strong>, which is
                            the subjective score given personally by the cup taster on a scale of 1-10. Each of these
                            features is shown in the above donut plot with their relative importance as determined by
                            this algorithm.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="page-section">
        <div class="container">
            <div class="product-item">
                <div class="product-item-title d-flex">
                    <div class="bg-faded p-5 d-flex me-auto rounded">
                        <h2 class="section-heading mb-0">
                            <span class="section-heading-upper">Linear</span>
                            <span class="section-heading-lower">Regression</span>
                        </h2>
                    </div>
                </div>
                <img class="product-item-img mx-auto d-flex rounded img-fluid mb-3 mb-lg-0"
                    src="../static/assets/img/full_model_coeff.png"
                    alt="Table of variables and coefficients paired with a residuals plot for the full model" />
                <div class="product-item-title d-flex">
                    <div class="bg-faded p-5 rounded">
                        <p class="mb-0">Initially, we made a full model with all of these variables. The score for the
                            training data was ~72.35% and the score for the testing data was ~76.77%. These scores are
                            both pretty high, indicating that our model is a good fit for the data. Another measure of
                            fit is the R-squared value which in this case is 0.7235, which means that 72.35% of the
                            variation in the data is explained by our model. Finally, looking at the residuals plot, we
                            can see that most of the residuals are clustered around 0 and majority fall within -1 and 1
                            showing that our model is fairly accurate at predicting cupper points.</p>
                    </div>
                </div>
                <div class="product-item-title d-flex">
                    <div class="bg-faded p-5 rounded">
                        <p class="mb-0">Intuitively, you'd think a higher score in the ratings variables would lead to a
                            higher cupper score and more defects would lead to a lower score, but as determined by the
                            coeffecients, this doesn't seem to be the case for all of the variables in the model. For
                            example, the variables <strong>moisture</strong>, <strong>uniformity</strong>, and
                            <strong>sweetness</strong> all show a <em>slight</em> <strong>negative correlation</strong>
                            with cupper points. On the other hand, <strong>category_one_defects</strong> is showing a
                            <em>strong</em> <strong>positive correlation</strong> with cupper points. Neither of these
                            conclusions makes a lot of intuitive sense, so we decided to look at a reduced model.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="page-section">
        <div class="container">
            <div class="product-item">
                <div class="product-item-title d-flex">
                    <div class="bg-faded p-5 d-flex ms-auto rounded">
                        <h2 class="section-heading mb-0">
                            <span class="section-heading-upper">Reduced</span>
                            <span class="section-heading-lower">Model</span>
                        </h2>
                    </div>
                </div>
                <img class="product-item-img mx-auto d-flex rounded img-fluid mb-3 mb-lg-0"
                    src="../static/assets/img/reduced_model_coeff.png"
                    alt="Table of variables and coefficients paired with a residuals plot for the reduced model" />
                <div class="product-item-title d-flex">
                    <div class="bg-faded p-5 rounded">
                        <p class="mb-0">We utilized the results of the Random Forest Regressor by selecting the 3 most
                            important features to be the predictors in our reduced model: <strong>flavor</strong>,
                            <strong>balance</strong>, and <strong>aftertaste</strong>. Each of these variables shows a
                            <strong>positive correlation</strong> with Cupper Points: approximately 1.30, 0.690, and
                            0.682, respectively. This makes a bit more sense intuitively than the full model, because a
                            higher rating in each of these categories translates to a higher rating given by the taste
                            tester.</p>
                    </div>
                </div>
                <div class="product-item-title d-flex">
                    <div class="bg-faded p-5 rounded">
                        <p class="mb-0">Regarding model fit, the reduced model appears to be slightly weaker overall
                            than the full model. The score for the training data was lower at ~70.51% but the score for
                            the testing data was slightly higher at 77.05%. The higher testing score may mean that our
                            model is doing a better job of predicting based on the test data, but the larger difference
                            between the two scores could indicate possible over-fitting. The R-squared score was lower
                            at 0.7051, meaning that this model explains nearly 2% less of the variation in the data than
                            the full model. Lastly, the residuals shown above are still clustered around 0 with the
                            majority falling between -1 and 1, but you can see it's not <em>quite</em> as strongly
                            clustered around 0 as the full model is. All things considered, the reduced model is still
                            rather effective at prediction and given its simplicity and the fact that the coefficients
                            make more sense, we would choose to use the reduced model to predict Cupper Points over the
                            full model.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <footer class="footer text-faded text-center py-5">
        <div class="container">
            <p class="m-0 small">This project was created by Juli Chalk, Shalyn Lavoie, Lauren McCarthy, Nicole Pierre,
                and Moriah Taylor</p>
        </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="static/js/scripts.js"></script>
</body>

</html>